<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>--- TODO ---</title>

  <link rel="stylesheet" href="..\css\main.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.1/css/fontawesome.min.css">
</head>
<body>


  <div class="jumbotron text-center text-white imagebg">
    <h1>New Task</h1>
  </div>

  <div class="wrapper">
   <div></div>
   <button class="chld rd" onclick= "location.href = 'newtask.html';">New Task</button>
   <button class="chld bl" onclick= "location.href = 'index.html';">Incomplete Tasks</button>
   <button class="chld gn" onclick= "location.href = 'complete.html';">Complete Tasks</button> 
   <div></div>
 </div>

<div id="dd" class="input_wrapper">

  <div>
    <form>
   <!-- <label for="task">Task</label> -->

   <input class="form-control" placeholder="Task" type="text" id="task" name="task" required><br>

   <!-- <label for="creator">Creator</label> -->
   <input class="form-control" placeholder="Creator" type="text" id="creator" name="creator" required><br>
   
   <!-- <label for="due_at">Due At</label>  -->
   <input class="form-control" placeholder="Due At" type="datetime-local" id="due_at" name="due_at" required><br>
 
   <!-- <input class="form-control" placeholder="Description" type="text" id="description" name="description"><br> -->
   <textarea class="form-control" placeholder="Description" id="description" name="description" required></textarea><br>

   <!-- <label for="users_assigned1">Persons Involved</label> -->
   <input class="form-control" placeholder="Persons Involved" type="text" id="users_assigned1" name="users_assigned1" required><br>
   
   <!-- <label for="users_assigned2">Persons Involved</label> -->
   <input class="form-control" placeholder="Persons Involved" type="text" id="users_assigned2" name="users_assigned2"><br>
   
   <!-- <label for="users_assigned3">Persons Involved</label> -->
   <input class="form-control" placeholder="Persons Involved" type="text" id="users_assigned3" name="users_assigned3"><br>

   <button onclick="run();" type="submit" id="finalsubmit" class="btn btn-primary">Submit</button>
   </form>
  </div>

 </div>

 <script  src="/eel.js"></script>
 <script>
  async function run() {

    let task = document.getElementById('task').value
    let creator = document.getElementById('creator').value
    let due_at = document.getElementById('due_at').value
    let description = document.getElementById('description').value
    let users_assigned1 = document.getElementById('users_assigned1').value
    let users_assigned2 = document.getElementById('users_assigned2').value
    let users_assigned3 = document.getElementById('users_assigned3').value

    
    if (task == "" || creator == "" || due_at == "" || description == "" || users_assigned1 == "") {

      console.log("Someone's trying to leave out the juicy details.....");

    } else {

      var change = await eel.form_insert(task, creator, due_at, description, users_assigned1, users_assigned2, users_assigned3)();
      location.href = 'index.html';
      
    }
    
  }    

  </script>






  <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>